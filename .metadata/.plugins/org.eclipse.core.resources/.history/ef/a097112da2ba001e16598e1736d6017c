import org.openqa.selenium.By;
import org.openqa.selenium.Keys;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.Select;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.openqa.selenium.support.ui.ExpectedConditions;

public class TrckkysiteAutomation {
public static void main(String[] args) throws InterruptedException {
	

// Set the path to the ChromeDriver executable System.setProperty("webdriver.chrome.driver", "C:\\Users\\20063\\Dropbox\\My FC (DESKTOP-6109MDB)\\Downloads\\chromedriver-win64\\chromedriver
// Create a ChromeDriver Instance WebDriver driver new ChromeDriver();
System.setProperty("webdriver.chrome.driver", "C:\\Users\\20063\\Dropbox\\My PC (DESKTOP-6ID9MDB)\\Downloads\\chromedriver-win64\\chromedriver-win64\\chromedriver.exe\\");


WebDriver driver= new ChromeDriver();

driver.get("https://www.trukky.com/door-to-door-goods-delivery");

// Step 2: Check if you have landed in the correct page
System.out.println("Page URL: " + driver.getCurrentUrl());
System.out.println("Page Title: " + driver.getTitle());

WebDriverWait wait = new WebDriverWait(driver, 20);

Thread.sleep(6000);
//Q) The Pickup City Hyderabad

WebElement pickupLocationInput = wait.until(ExpectedConditions.elementToBeClickable(By.xpath("//*[contains(@class, 'searchBoxInnerWrap')]/div/input")));

pickupLocationInput.sendKeys("Hyderabad");
pickupLocationInput.sendKeys(Keys.TAB); // Or any other method to trigger focusout

// Wait for the search results to appear
WebElement searchResultDiv = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath("//*[contains(@class, 'recentSearch')]")));

// Select the desired result
WebElement firstResult = searchResultDiv.findElement(By.xpath(".//li[1]"));
firstResult.click();
WebElement toCityInput = wait.until(ExpectedConditions.elementToBeClickable(By.xpath("//*[contains(@class, 'searchBoxInnerWrap')]/div[2]/input")));

//Clear any existing text
toCityInput.clear();

//Enter Delhi and trigger focusout
toCityInput.sendKeys("Delhi");
 // Or other focusout method

//Wait for the search results to appear
WebElement toSearchResultDiv = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath("//*[contains(@class, 'recentSearch')]//following-sibling::div[1]"))); // Adjust XPath if needed

//Select the desired result
WebElement firstToSuggestion = toSearchResultDiv.findElement(By.xpath(".//li[1]"));
firstToSuggestion.click();

//first page done
//Q) Click on Check Price
WebElement checkPriceButton= driver.findElement(By.xpath("//button[text()-'Check price'1"));
wait.until(ExpectedConditions.elementToBeClickable(checkPriceButton));
checkPriceButton.click();
// first page done
Thread.sleep(1000);
// Q Click on services type as a personal WebElement personalRadioButton driver.findElement(By.xpath("//*[contains(class, 'serviceOptions')]/11[2]"));
WebElement personalRadioButton = driver.findElement(By.xpath("//*[contains (@class, 'serviceoptions')]/11[2]"));
wait.until(ExpectedConditions.elementToBeClickable (personalRadioButton));
personalRadioButton.click();
}
}
//2nd page done